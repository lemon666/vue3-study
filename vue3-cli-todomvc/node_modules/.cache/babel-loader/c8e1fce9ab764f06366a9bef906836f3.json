{"remainingRequest":"/Users/v_limeiwang/mygithub/vue3/demo/vue3-cli-demo/node_modules/babel-loader/lib/index.js!/Users/v_limeiwang/mygithub/vue3/demo/vue3-cli-demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/v_limeiwang/mygithub/vue3/demo/vue3-cli-demo/node_modules/vue-cli-plugin-vue-next/node_modules/vue-loader/dist/index.js??ref--0-1!/Users/v_limeiwang/mygithub/vue3/demo/vue3-cli-demo/src/components/Demo.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/v_limeiwang/mygithub/vue3/demo/vue3-cli-demo/src/components/Demo.vue","mtime":1593673044632},{"path":"/Users/v_limeiwang/mygithub/vue3/demo/vue3-cli-demo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/v_limeiwang/mygithub/vue3/demo/vue3-cli-demo/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/v_limeiwang/mygithub/vue3/demo/vue3-cli-demo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/v_limeiwang/mygithub/vue3/demo/vue3-cli-demo/node_modules/vue-cli-plugin-vue-next/node_modules/vue-loader/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgcmVmLCByZWFjdGl2ZSwgY29tcHV0ZWQsIHdhdGNoRWZmZWN0LCB3YXRjaCwgcmVhZG9ubHksIG9uTW91bnRlZCwgb25Vbm1vdW50ZWQgfSBmcm9tICJ2dWUiOwppbXBvcnQgdXNlTW91c2VQb3NpdGlvbiBmcm9tICIuLi9ob29rcy91c2VNb3VzZVBvc2l0aW9uIjsgLy8gdnVlMgovLyBleHBvcnQgZGVmYXVsdCB7Ci8vICAgICBkYXRhKCkge30sCi8vICAgICBtZXRob2RzOiB7fSwKLy8gICAgIGNvbXB1dGVkOiB7fSwKLy8gICAgIHdhdGNoOiB7fSwKLy8gfQovLyDnibnmnInpgLvovpHlh73mlbDliaXnprsgdnVlMy4w55qE5aW95aSECgpmdW5jdGlvbiB1c2VTY3JvbGwoKSB7CiAgLy8g5a6e5pe26I635Y+W5rua5Yqo5p2h5L2N572uCiAgdmFyIHRvcCA9IHJlZigwKTsKCiAgZnVuY3Rpb24gdXBkYXRlKCkgewogICAgdG9wLnZhbHVlID0gd2luZG93LnNjcm9sbFk7CiAgfQoKICBvbk1vdW50ZWQoZnVuY3Rpb24gKCkgewogICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoInNjcm9sbCIsIHVwZGF0ZSk7CiAgfSk7CiAgb25Vbm1vdW50ZWQoZnVuY3Rpb24gKCkgewogICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoInNjcm9sbCIsIHVwZGF0ZSk7CiAgfSk7CiAgcmV0dXJuIHsKICAgIHRvcDogdG9wCiAgfTsKfQoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJEZW1vIiwKICBjb21wb25lbnRzOiB7fSwKICBzZXR1cDogZnVuY3Rpb24gc2V0dXAoKSB7CiAgICB2YXIgX3VzZVNjcm9sbCA9IHVzZVNjcm9sbCgpLAogICAgICAgIHRvcCA9IF91c2VTY3JvbGwudG9wOwoKICAgIHZhciBfdXNlTW91c2VQb3NpdGlvbiA9IHVzZU1vdXNlUG9zaXRpb24oKSwKICAgICAgICB4ID0gX3VzZU1vdXNlUG9zaXRpb24ueCwKICAgICAgICB5ID0gX3VzZU1vdXNlUG9zaXRpb24ueTsKCiAgICB2YXIgY291bnQgPSByZWYoMCk7CiAgICB2YXIgc3RhdGUgPSByZWFjdGl2ZSh7CiAgICAgIG5hbWU6ICLnvo7ml7oiLAogICAgICBhZ2U6IDI2LAogICAgICBzZXg6ICLnlLciCiAgICB9KTsKICAgIHZhciBjb3B5ID0gcmVhZG9ubHkoc3RhdGUpOwoKICAgIHZhciBpbmNyZWFzZSA9IGZ1bmN0aW9uIGluY3JlYXNlKCkgewogICAgICBjb3VudC52YWx1ZSsrOwogICAgfTsKCiAgICB2YXIgZG91YmxlID0gY29tcHV0ZWQoZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gY291bnQudmFsdWUgKiAyOwogICAgfSk7CiAgICB3YXRjaChkb3VibGUsIGZ1bmN0aW9uIChvbGRWYWwsIG5ld1ZhbCkgewogICAgICBjb25zb2xlLmxvZygid2F0Y2g6Iiwgb2xkVmFsLCBuZXdWYWwpOwogICAgfSk7IC8vIOWcqOWPjeW6lOaAp+WcsOi3n+i4quWFtuS+nei1luWFs+ezu+aXtueri+WNs+i/kOihjOS4gOS4quWHveaVsO+8jOW5tuWcqOS+nei1luWFs+ezu+WPkeeUn+WPmOWMluaXtumHjeaWsOi/kOihjOWug+OAggoKICAgIHdhdGNoRWZmZWN0KGZ1bmN0aW9uICgpIHsKICAgICAgLy8gICBjb25zb2xlLmxvZygid2F0Y2hFZmZlY3Q6IiwgY29weS5hZ2UpOwogICAgICBjb25zb2xlLmxvZygid2F0Y2hFZmZlY3Q6IiwgY291bnQudmFsdWUpOwogICAgfSk7IC8vIFNldCBvcGVyYXRpb24gb24ga2V5ICJjb3VudCIgZmFpbGVkOiB0YXJnZXQgaXMgcmVhZG9ubHkuCiAgICAvLyBjb3B5LmNvdW50Kys7CgogICAgcmV0dXJuIHsKICAgICAgY291bnQ6IGNvdW50LAogICAgICBkb3VibGU6IGRvdWJsZSwKICAgICAgc3RhdGU6IHN0YXRlLAogICAgICBpbmNyZWFzZTogaW5jcmVhc2UsCiAgICAgIHg6IHgsCiAgICAgIHk6IHksCiAgICAgIGNvcHk6IGNvcHksCiAgICAgIHRvcDogdG9wCiAgICB9OwogIH0KfTs="},{"version":3,"sources":["/Users/v_limeiwang/mygithub/vue3/demo/vue3-cli-demo/src/components/Demo.vue"],"names":[],"mappings":"AAyBA,SACE,GADF,EAEE,QAFF,EAGE,QAHF,EAIE,WAJF,EAKE,KALF,EAME,QANF,EAOE,SAPF,EAQE,WARF,QASO,KATP;AAUA,OAAO,gBAAP,MAA6B,2BAA7B,C,CAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;AACA,SAAS,SAAT,GAAqB;AACnB;AACA,MAAM,GAAE,GAAI,GAAG,CAAC,CAAD,CAAf;;AAEA,WAAS,MAAT,GAAkB;AAChB,IAAA,GAAG,CAAC,KAAJ,GAAY,MAAM,CAAC,OAAnB;AACF;;AACA,EAAA,SAAS,CAAC,YAAM;AACd,IAAA,MAAM,CAAC,gBAAP,CAAwB,QAAxB,EAAkC,MAAlC;AACD,GAFQ,CAAT;AAGA,EAAA,WAAW,CAAC,YAAM;AAChB,IAAA,MAAM,CAAC,mBAAP,CAA2B,QAA3B,EAAqC,MAArC;AACD,GAFU,CAAX;AAIA,SAAO;AACL,IAAA,GAAE,EAAF;AADK,GAAP;AAGF;;AAEA,eAAe;AACb,EAAA,IAAI,EAAE,MADO;AAEb,EAAA,UAAU,EAAE,EAFC;AAIb,EAAA,KAJa,mBAIL;AAAA,qBACQ,SAAS,EADjB;AAAA,QACA,GADA,cACA,GADA;;AAAA,4BAES,gBAAgB,EAFzB;AAAA,QAEA,CAFA,qBAEA,CAFA;AAAA,QAEG,CAFH,qBAEG,CAFH;;AAGN,QAAI,KAAI,GAAI,GAAG,CAAC,CAAD,CAAf;AACA,QAAI,KAAI,GAAI,QAAQ,CAAC;AACnB,MAAA,IAAI,EAAE,IADa;AAEnB,MAAA,GAAG,EAAE,EAFc;AAGnB,MAAA,GAAG,EAAE;AAHc,KAAD,CAApB;AAKA,QAAM,IAAG,GAAI,QAAQ,CAAC,KAAD,CAArB;;AAEA,QAAI,QAAO,GAAI,SAAX,QAAW,GAAM;AACnB,MAAA,KAAK,CAAC,KAAN;AACD,KAFD;;AAIA,QAAI,MAAK,GAAI,QAAQ,CAAC;AAAA,aAAM,KAAK,CAAC,KAAN,GAAc,CAApB;AAAA,KAAD,CAArB;AAEA,IAAA,KAAK,CAAC,MAAD,EAAS,UAAC,MAAD,EAAS,MAAT,EAAoB;AAChC,MAAA,OAAO,CAAC,GAAR,CAAY,QAAZ,EAAsB,MAAtB,EAA8B,MAA9B;AACD,KAFI,CAAL,CAjBM,CAqBN;;AACA,IAAA,WAAW,CAAC,YAAM;AAChB;AACA,MAAA,OAAO,CAAC,GAAR,CAAY,cAAZ,EAA4B,KAAK,CAAC,KAAlC;AACD,KAHU,CAAX,CAtBM,CA2BN;AACA;;AAEA,WAAO;AACL,MAAA,KAAK,EAAL,KADK;AAEL,MAAA,MAAM,EAAN,MAFK;AAGL,MAAA,KAAK,EAAL,KAHK;AAIL,MAAA,QAAQ,EAAR,QAJK;AAKL,MAAA,CAAC,EAAD,CALK;AAML,MAAA,CAAC,EAAD,CANK;AAOL,MAAA,IAAI,EAAJ,IAPK;AAQL,MAAA,GAAE,EAAF;AARK,KAAP;AAUF;AA5Ca,CAAf","sourcesContent":["<template>\n  <div class=\"demo\">\n    <div class=\"position\">\n      <div>滚动条Y坐标---{{top}}</div>\n      <div>鼠标X坐标---{{x}}</div>\n      <div>鼠标Y坐标---{{y}}</div>\n    </div>\n    <button @click=\"increase\">count is: {{count}} double is: {{double}}</button>\n    <h3>{{state.name}}</h3>\n\n    <ul class=\"list\">\n      <li>{{top}}</li>\n      <li>li</li>\n      <li>li</li>\n      <li>li</li>\n      <li>li</li>\n      <li>li</li>\n      <li>li</li>\n      <li>li</li>\n      <li>li</li>\n    </ul>\n  </div>\n</template>\n\n<script>\nimport {\n  ref,\n  reactive,\n  computed,\n  watchEffect,\n  watch,\n  readonly,\n  onMounted,\n  onUnmounted\n} from \"vue\";\nimport useMousePosition from \"../hooks/useMousePosition\";\n\n// vue2\n// export default {\n//     data() {},\n//     methods: {},\n//     computed: {},\n//     watch: {},\n// }\n\n// 特有逻辑函数剥离 vue3.0的好处\nfunction useScroll() {\n  // 实时获取滚动条位置\n  const top = ref(0);\n\n  function update() {\n    top.value = window.scrollY;\n  }\n  onMounted(() => {\n    window.addEventListener(\"scroll\", update);\n  });\n  onUnmounted(() => {\n    window.removeEventListener(\"scroll\", update);\n  });\n\n  return {\n    top\n  };\n}\n\nexport default {\n  name: \"Demo\",\n  components: {},\n\n  setup() {\n    let { top } = useScroll();\n    let { x, y } = useMousePosition();\n    let count = ref(0);\n    let state = reactive({\n      name: \"美旺\",\n      age: 26,\n      sex: \"男\"\n    });\n    const copy = readonly(state);\n\n    let increase = () => {\n      count.value++;\n    };\n\n    let double = computed(() => count.value * 2);\n\n    watch(double, (oldVal, newVal) => {\n      console.log(\"watch:\", oldVal, newVal);\n    });\n\n    // 在反应性地跟踪其依赖关系时立即运行一个函数，并在依赖关系发生变化时重新运行它。\n    watchEffect(() => {\n      //   console.log(\"watchEffect:\", copy.age);\n      console.log(\"watchEffect:\", count.value);\n    });\n\n    // Set operation on key \"count\" failed: target is readonly.\n    // copy.count++;\n\n    return {\n      count,\n      double,\n      state,\n      increase,\n      x,\n      y,\n      copy,\n      top\n    };\n  }\n};\n</script>\n\n<style lang=\"less\">\n.list {\n  li {\n    height: 500px;\n  }\n}\n</style>\n"],"sourceRoot":""}]}